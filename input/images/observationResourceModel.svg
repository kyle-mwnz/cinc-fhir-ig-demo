<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3577.0833px" preserveAspectRatio="none" style="width:2464px;height:3577px;background:#FFFFFF;" version="1.1" viewBox="0 0 2464 3577" width="2464.5833px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="55.1839" id="_title" rx="5.2083" ry="5.2083" style="stroke:none;stroke-width:2.0833333333333335;" width="1104.1667" x="666.1458" y="10.4167"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="1083.3333" x="676.5625" y="49.0316">FHIR resource model - Patient Observations for Care in the Community</text><!--MD5=[d40bca55b0188ad5713208658ed5cbf4]
class CarePlan--><g id="elem_CarePlan"><rect codeLine="13" fill="#FFA07A" height="297.7702" id="CarePlan" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="702.0833" x="138.5417" y="1832.2673"/><ellipse cx="417.1875" cy="1865.6006" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M422.3399,1878.3986 Q421.1294,1879.0212 419.7978,1879.3325 Q418.4662,1879.6438 416.9963,1879.6438 Q411.7737,1879.6438 409.024,1876.2024 Q406.2744,1872.761 406.2744,1866.2587 Q406.2744,1859.7392 409.024,1856.2978 Q411.7737,1852.8564 416.9963,1852.8564 Q418.4662,1852.8564 419.8151,1853.1677 Q421.1639,1853.479 422.3399,1854.1016 L422.3399,1859.7738 Q421.0256,1858.5632 419.7891,1858.0012 Q418.5527,1857.4392 417.2384,1857.4392 Q414.4368,1857.4392 413.0102,1859.6614 Q411.5835,1861.8835 411.5835,1866.2587 Q411.5835,1870.6167 413.0102,1872.8388 Q414.4368,1875.061 417.2384,1875.061 Q418.5527,1875.061 419.7891,1874.499 Q421.0256,1873.937 422.3399,1872.7264 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="127.0833" x="459.8958" y="1876.6235">CarePlan</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="140.625" x2="838.5417" y1="1898.9339" y2="1898.9339"/><ellipse cx="161.4583" cy="1927.5675" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" text-decoration="wavy underline" textLength="54.1667" x="180.2083" y="1935.4655">title</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="22.9167" x="242.7083" y="1935.4655">=</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-style="italic" lengthAdjust="spacing" textLength="450" x="273.9583" y="1935.4655">COVID-19 Response - Patient X</text><ellipse cx="161.4583" cy="1961.9181" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="116.6667" x="180.2083" y="1969.8161">status =</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-style="italic" lengthAdjust="spacing" textLength="81.25" x="305.2083" y="1969.8161">active</text><ellipse cx="161.4583" cy="1996.2687" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="425" x="180.2083" y="2004.1667">period = plan start-end dates</text><ellipse cx="161.4583" cy="2030.6193" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="647.9167" x="180.2083" y="2038.5173">Other elements as copied from PlanDefinition</text><ellipse cx="161.4583" cy="2107.6538" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="254.1667" x="180.2083" y="2115.5518">author -&gt; HPI ref.</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="140.625" x2="437.5" y1="2070.1782" y2="2070.1782"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="104.1667" x="437.5" y="2080.1595">links to</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="541.6667" x2="838.5417" y1="2070.1782" y2="2070.1782"/></g><!--MD5=[3fc37384f2c1bf926fbda0db3fd20008]
class CarePlanObsActivity--><g id="elem_CarePlanObsActivity"><rect codeLine="22" fill="#ADD8E6" height="178.3285" id="CarePlanObsActivity" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="450" x="914.5833" y="1891.6423"/><ellipse cx="989.8958" cy="1933.9559" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M995.0482,1946.7539 Q993.8377,1947.3765 992.5061,1947.6878 Q991.1745,1947.9991 989.7046,1947.9991 Q984.482,1947.9991 981.7324,1944.5577 Q978.9827,1941.1163 978.9827,1934.6141 Q978.9827,1928.0945 981.7324,1924.6531 Q984.482,1921.2118 989.7046,1921.2118 Q991.1745,1921.2118 992.5234,1921.523 Q993.8723,1921.8343 995.0482,1922.4569 L995.0482,1928.1291 Q993.7339,1926.9185 992.4975,1926.3565 Q991.261,1925.7945 989.9467,1925.7945 Q987.1452,1925.7945 985.7185,1928.0167 Q984.2918,1930.2389 984.2918,1934.6141 Q984.2918,1938.972 985.7185,1941.1942 Q987.1452,1943.4163 989.9467,1943.4163 Q991.261,1943.4163 992.4975,1942.8543 Q993.7339,1942.2923 995.0482,1941.0817 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacing" textLength="141.6667" x="1100.7292" y="1926.2288">«contained»</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="285.4167" x="1028.8542" y="1959.7005">CarePlanObsActivity</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="916.6667" x2="1362.5" y1="1976.2695" y2="1976.2695"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="137.5" x="927.0833" y="2055.485">reference</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="279.1667" x="1072.9167" y="2055.485">--&gt; ServiceRequest</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="916.6667" x2="1087.5" y1="2010.1115" y2="2010.1115"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="104.1667" x="1087.5" y="2020.0928">links to</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="1191.6667" x2="1362.5" y1="2010.1115" y2="2010.1115"/></g><!--MD5=[c9e2360ee39a0f374d2675149b859c89]
class ServiceRequest--><g id="elem_ServiceRequest"><rect codeLine="27" fill="#FFA07A" height="400.8219" id="ServiceRequest" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="704.1667" x="787.5" y="1271.8506"/><ellipse cx="883.8542" cy="1305.1839" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M889.0066,1317.982 Q887.796,1318.6045 886.4644,1318.9158 Q885.1329,1319.2271 883.6629,1319.2271 Q878.4403,1319.2271 875.6907,1315.7857 Q872.9411,1312.3444 872.9411,1305.8421 Q872.9411,1299.3225 875.6907,1295.8811 Q878.4403,1292.4398 883.6629,1292.4398 Q885.1329,1292.4398 886.4817,1292.7511 Q887.8306,1293.0623 889.0066,1293.6849 L889.0066,1299.3571 Q887.6923,1298.1466 886.4558,1297.5845 Q885.2193,1297.0225 883.905,1297.0225 Q881.1035,1297.0225 879.6768,1299.2447 Q878.2501,1301.4669 878.2501,1305.8421 Q878.2501,1310.2 879.6768,1312.4222 Q881.1035,1314.6444 883.905,1314.6444 Q885.2193,1314.6444 886.4558,1314.0823 Q887.6923,1313.5203 889.0066,1312.3098 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="493.75" x="926.5625" y="1316.2069">ServiceRequest (patient vital signs)</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="789.5833" x2="1489.5833" y1="1338.5173" y2="1338.5173"/><ellipse cx="810.4167" cy="1367.1509" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" text-decoration="wavy underline" textLength="85.4167" x="829.1667" y="1375.0488">status</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="22.9167" x="922.9167" y="1375.0488">=</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-style="italic" lengthAdjust="spacing" textLength="81.25" x="954.1667" y="1375.0488">active</text><ellipse cx="810.4167" cy="1401.5015" fill="#84BE84" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" text-decoration="wavy underline" textLength="68.75" x="829.1667" y="1409.3994">code</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="558.3333" x="906.25" y="1409.3994">= SNOMED ref. (from ActivityDefinition)</text><ellipse cx="810.4167" cy="1435.8521" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="650" x="829.1667" y="1443.75">Other elements copied from ActivityDefinition</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="25" x="829.1667" y="1478.1006">...</text><ellipse cx="810.4167" cy="1547.2371" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="620.8333" x="829.1667" y="1555.1351">instantiatesCanonical --&gt; ActivityDefinition</text><ellipse cx="810.4167" cy="1581.5877" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="366.6667" x="829.1667" y="1589.4857">basedOn -&gt; CarePlan ref.</text><ellipse cx="810.4167" cy="1615.9383" fill="#84BE84" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="508.3333" x="829.1667" y="1623.8363">performer -&gt; Patient (or Nurse) ref.</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="829.1667" y="1658.1868"> </text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="789.5833" x2="1087.5" y1="1509.7616" y2="1509.7616"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="104.1667" x="1087.5" y="1519.7428">links to</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="1191.6667" x2="1489.5833" y1="1509.7616" y2="1509.7616"/></g><!--MD5=[26df59e6d290f1279cec908f1e9a1b5f]
class Observation--><g id="elem_Observation"><rect codeLine="39" fill="#FFA07A" height="366.4714" id="Observation" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="683.3333" x="1704.1667" y="568.7256"/><ellipse cx="1950.5208" cy="602.0589" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M1955.6732,614.857 Q1954.4627,615.4795 1953.1311,615.7908 Q1951.7995,616.1021 1950.3296,616.1021 Q1945.107,616.1021 1942.3574,612.6607 Q1939.6077,609.2194 1939.6077,602.7171 Q1939.6077,596.1975 1942.3574,592.7561 Q1945.107,589.3148 1950.3296,589.3148 Q1951.7995,589.3148 1953.1484,589.6261 Q1954.4973,589.9373 1955.6732,590.5599 L1955.6732,596.2321 Q1954.3589,595.0216 1953.1225,594.4595 Q1951.886,593.8975 1950.5717,593.8975 Q1947.7702,593.8975 1946.3435,596.1197 Q1944.9168,598.3419 1944.9168,602.7171 Q1944.9168,607.075 1946.3435,609.2972 Q1947.7702,611.5194 1950.5717,611.5194 Q1951.886,611.5194 1953.1225,610.9573 Q1954.3589,610.3953 1955.6732,609.1848 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="172.9167" x="1993.2292" y="613.0819">Observation</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1706.25" x2="2385.4167" y1="635.3923" y2="635.3923"/><ellipse cx="1727.0833" cy="664.0259" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" text-decoration="wavy underline" textLength="85.4167" x="1745.8333" y="671.9238">status</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="93.75" x="1839.5833" y="671.9238">= final</text><ellipse cx="1727.0833" cy="698.3765" fill="#84BE84" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" text-decoration="wavy underline" textLength="68.75" x="1745.8333" y="706.2744">code</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="552.0833" x="1822.9167" y="706.2744">= SNOMED code (from ServiceRequest)</text><ellipse cx="1727.0833" cy="732.7271" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="295.8333" x="1745.8333" y="740.625">component.value[]**</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="114.5833" x="1745.8333" y="774.9756">Array of</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="506.25" x="1745.8333" y="809.3262">{sign code, observation value} pairs</text><ellipse cx="1727.0833" cy="878.4627" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="397.9167" x="1745.8333" y="886.3607">basedOn -&gt; ServiceRequest</text><ellipse cx="1727.0833" cy="912.8133" fill="none" rx="6.25" ry="6.25" style="stroke:#038048;stroke-width:2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="312.5" x="1745.8333" y="920.7113">subject -&gt; Patient ref.</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="1706.25" x2="1993.75" y1="840.9871" y2="840.9871"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="104.1667" x="1993.75" y="850.9684">links to</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="2097.9167" x2="2385.4167" y1="840.9871" y2="840.9871"/></g><!--MD5=[556aed2c5c0d77f1d9e1ce7f53de604a]
class ActivityDefinition--><g id="elem_ActivityDefinition"><rect codeLine="50" fill="#FF4500" height="580.896" id="ActivityDefinition" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="931.25" x="698.9583" y="461.4339"/><ellipse cx="1034.8958" cy="503.7476" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M1040.0482,516.5456 Q1038.8377,517.1682 1037.5061,517.4795 Q1036.1745,517.7907 1034.7046,517.7907 Q1029.482,517.7907 1026.7324,514.3494 Q1023.9827,510.908 1023.9827,504.4057 Q1023.9827,497.8861 1026.7324,494.4448 Q1029.482,491.0034 1034.7046,491.0034 Q1036.1745,491.0034 1037.5234,491.3147 Q1038.8723,491.626 1040.0482,492.2485 L1040.0482,497.9207 Q1038.7339,496.7102 1037.4975,496.1482 Q1036.261,495.5861 1034.9467,495.5861 Q1032.1452,495.5861 1030.7185,497.8083 Q1029.2918,500.0305 1029.2918,504.4057 Q1029.2918,508.7636 1030.7185,510.9858 Q1032.1452,513.208 1034.9467,513.208 Q1036.261,513.208 1037.4975,512.646 Q1038.7339,512.0839 1040.0482,510.8734 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacing" textLength="241.6667" x="1077.6042" y="496.0205">«canonical instance»</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="241.6667" x="1077.6042" y="529.4922">ActivityDefinition</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="701.0417" x2="1628.125" y1="546.0612" y2="546.0612"/><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="701.0417" x2="1019.7917" y1="579.9032" y2="579.9032"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="289.5833" x="1019.7917" y="589.8844">templated attributes</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="1309.375" x2="1628.125" y1="579.9032" y2="579.9032"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="160.4167" x="744.7917" y="646.6187">identifier =</text><text fill="#000000" font-family="monospace" font-size="29.1667" font-style="italic" lengthAdjust="spacing" textLength="716.6667" x="913.5417" y="645.8923">COVID19ObservationVitalSignsRequestTemplate</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="316.6667" x="744.7917" y="680.9692">kind = ServiceRequest</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="206.25" x="744.7917" y="715.3198">status = active</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="510.4167" x="744.7917" y="749.6704">code = SNOMED code (TBC by HNZ).</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="672.9167" x="744.7917" y="784.021">Further HNZ default elements for Activity type...</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="16.6667" x="736.4583" y="818.3716">..</text><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="730.2083" y="633.5124"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="732.2917" y1="635.5957" y2="635.5957"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="715.625" y1="618.4204" y2="635.5957"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="730.2083" y="667.863"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="732.2917" y1="669.9463" y2="669.9463"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="715.625" y1="635.5957" y2="669.9463"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="730.2083" y="702.2135"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="732.2917" y1="704.2969" y2="704.2969"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="715.625" y1="669.9463" y2="704.2969"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="730.2083" y="736.5641"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="732.2917" y1="738.6475" y2="738.6475"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="715.625" y1="704.2969" y2="738.6475"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="730.2083" y="770.9147"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="732.2917" y1="772.998" y2="772.998"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="715.625" y1="738.6475" y2="772.998"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="730.2083" y="805.2653"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="732.2917" y1="807.3486" y2="807.3486"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="715.625" x2="715.625" y1="772.998" y2="807.3486"/><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="233.3333" x="711.4583" y="890.1143">ServiceRequest</text><text fill="#000000" font-family="monospace" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="100" x="961.4583" y="890.1143">$apply</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="16.6667" x="1061.4583" y="890.1143">(</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="133.3333" x="761.4583" y="924.4649">subject:</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="247.9167" x="894.7917" y="925.1912">identifies patient,</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="216.6667" x="761.4583" y="958.8155">practitioner:</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="477.0833" x="978.125" y="959.5418">identifies requesting practitioner,</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="183.3333" x="761.4583" y="993.1661">CarePlan:id</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="525" x="953.125" y="993.8924">identifies careplan which will contain</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="16.6667" x="711.4583" y="1027.1179">)</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="701.0417" x2="1023.9583" y1="845.8659" y2="845.8659"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="281.25" x="1023.9583" y="855.8472">instance operations</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="1305.2083" x2="1628.125" y1="845.8659" y2="845.8659"/></g><!--MD5=[a7a9d78f724468d6b60428a1ae820276]
class PlanDefinition--><g id="elem_PlanDefinition"><rect codeLine="66" fill="#FF4500" height="512.5936" id="PlanDefinition" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="820.8333" x="14.5833" y="2290.6006"/><ellipse cx="299.4792" cy="2332.9142" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M304.6316,2345.7123 Q303.421,2346.3348 302.0894,2346.6461 Q300.7579,2346.9574 299.2879,2346.9574 Q294.0653,2346.9574 291.3157,2343.516 Q288.5661,2340.0747 288.5661,2333.5724 Q288.5661,2327.0528 291.3157,2323.6115 Q294.0653,2320.1701 299.2879,2320.1701 Q300.7579,2320.1701 302.1067,2320.4814 Q303.4556,2320.7926 304.6316,2321.4152 L304.6316,2327.0874 Q303.3173,2325.8769 302.0808,2325.3148 Q300.8443,2324.7528 299.53,2324.7528 Q296.7285,2324.7528 295.3018,2326.975 Q293.8751,2329.1972 293.8751,2333.5724 Q293.8751,2337.9303 295.3018,2340.1525 Q296.7285,2342.3747 299.53,2342.3747 Q300.8443,2342.3747 302.0808,2341.8126 Q303.3173,2341.2506 304.6316,2340.0401 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacing" textLength="241.6667" x="338.0208" y="2325.1872">«canonical instance»</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="200" x="358.8542" y="2358.6589">PlanDefinition</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="16.6667" x2="833.3333" y1="2375.2279" y2="2375.2279"/><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="16.6667" x2="280.2083" y1="2409.0698" y2="2409.0698"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="289.5833" x="280.2083" y="2419.0511">templated attributes</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="569.7917" x2="833.3333" y1="2409.0698" y2="2409.0698"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="160.4167" x="60.4167" y="2475.7853">identifier =</text><text fill="#000000" font-family="monospace" font-size="29.1667" font-style="italic" lengthAdjust="spacing" textLength="566.6667" x="229.1667" y="2475.059">CareplanTemplate-CitC-COVID19-CCCM</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="206.25" x="60.4167" y="2510.1359">status = active</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="631.25" x="60.4167" y="2544.4865">action[] = [HNZ default care plan activities...]</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="575" x="60.4167" y="2578.8371">Further HNZ defaults for CarePlan type...</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="16.6667" x="60.4167" y="2613.1877">..</text><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="45.8333" y="2462.679"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="47.9167" y1="2464.7624" y2="2464.7624"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="31.25" y1="2447.5871" y2="2464.7624"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="45.8333" y="2497.0296"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="47.9167" y1="2499.113" y2="2499.113"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="31.25" y1="2464.7624" y2="2499.113"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="45.8333" y="2531.3802"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="47.9167" y1="2533.4635" y2="2533.4635"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="31.25" y1="2499.113" y2="2533.4635"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="45.8333" y="2565.7308"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="47.9167" y1="2567.8141" y2="2567.8141"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="31.25" y1="2533.4635" y2="2567.8141"/><rect fill="#FF4500" height="4.1667" style="stroke:#000000;stroke-width:2.0833333333333335;" width="4.1667" x="45.8333" y="2600.0814"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="47.9167" y1="2602.1647" y2="2602.1647"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="31.25" x2="31.25" y1="2567.8141" y2="2602.1647"/><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="133.3333" x="27.0833" y="2684.9304">CarePlan</text><text fill="#000000" font-family="monospace" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="100" x="177.0833" y="2684.9304">$apply</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="16.6667" x="277.0833" y="2684.9304">(</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="150" x="77.0833" y="2719.281">subject =</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="291.6667" x="252.0833" y="2720.0073">&lt;patient identifier&gt;,</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="216.6667" x="77.0833" y="2753.6316">practitioner:</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="520.8333" x="302.0833" y="2754.3579">&lt;requesting practitioner identifier&gt;,</text><text fill="#000000" font-family="monospace" font-size="29.1667" lengthAdjust="spacing" textLength="200" x="77.0833" y="2787.9822">encounter:id</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="527.0833" x="293.75" y="2788.7085">Encounter which led to this care plan</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="16.6667" x2="284.375" y1="2640.682" y2="2640.682"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="281.25" x="284.375" y="2650.6632">instance operations</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="565.625" x2="833.3333" y1="2640.682" y2="2640.682"/></g><!--MD5=[0992d3fdc9d3d7c02b735131bb70871d]
class Goal--><g id="elem_Goal"><rect codeLine="80" fill="#ADD8E6" height="117.9606" id="Goal" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="200" x="389.5833" y="1412.4756"/><ellipse cx="420.8333" cy="1454.7892" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M425.9857,1467.5873 Q424.7752,1468.2098 423.4436,1468.5211 Q422.112,1468.8324 420.6421,1468.8324 Q415.4195,1468.8324 412.6699,1465.391 Q409.9202,1461.9497 409.9202,1455.4474 Q409.9202,1448.9278 412.6699,1445.4865 Q415.4195,1442.0451 420.6421,1442.0451 Q422.112,1442.0451 423.4609,1442.3564 Q424.8098,1442.6676 425.9857,1443.2902 L425.9857,1448.9624 Q424.6714,1447.7519 423.435,1447.1898 Q422.1985,1446.6278 420.8842,1446.6278 Q418.0827,1446.6278 416.656,1448.85 Q415.2293,1451.0722 415.2293,1455.4474 Q415.2293,1459.8053 416.656,1462.0275 Q418.0827,1464.2497 420.8842,1464.2497 Q422.1985,1464.2497 423.435,1463.6876 Q424.6714,1463.1256 425.9857,1461.9151 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacing" textLength="141.6667" x="445.8333" y="1447.0622">«contained»</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="64.5833" x="484.375" y="1480.5339">Goal</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="391.6667" x2="587.5" y1="1497.1029" y2="1497.1029"/><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="391.6667" x2="587.5" y1="1513.7695" y2="1513.7695"/></g><!--MD5=[e196dee4e2f250215fd767c36ba50ff6]
class HPIPerson--><g id="elem_HPIPerson"><rect codeLine="82" fill="#ADFF2F" height="212.679" id="HPIPerson" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="481.25" x="1030.2083" y="2440.6006"/><ellipse cx="1159.8958" cy="2482.9142" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M1165.0482,2495.7123 Q1163.8377,2496.3348 1162.5061,2496.6461 Q1161.1745,2496.9574 1159.7046,2496.9574 Q1154.482,2496.9574 1151.7324,2493.516 Q1148.9827,2490.0747 1148.9827,2483.5724 Q1148.9827,2477.0528 1151.7324,2473.6115 Q1154.482,2470.1701 1159.7046,2470.1701 Q1161.1745,2470.1701 1162.5234,2470.4814 Q1163.8723,2470.7926 1165.0482,2471.4152 L1165.0482,2477.0874 Q1163.7339,2475.8769 1162.4975,2475.3148 Q1161.261,2474.7528 1159.9467,2474.7528 Q1157.1452,2474.7528 1155.7185,2476.975 Q1154.2918,2479.1972 1154.2918,2483.5724 Q1154.2918,2487.9303 1155.7185,2490.1525 Q1157.1452,2492.3747 1159.9467,2492.3747 Q1161.261,2492.3747 1162.4975,2491.8126 Q1163.7339,2491.2506 1165.0482,2490.0401 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="1198.4375" y="2475.1872">«logical resource»</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="143.75" x="1232.8125" y="2508.6589">HPIPerson</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1032.2917" x2="1509.375" y1="2525.2279" y2="2525.2279"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="456.25" x="1042.7083" y="2604.4434">https://standards.digital.health.</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="304.1667" x="1042.7083" y="2638.7939">nz/ns/hpi-person-id</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="1032.2917" x2="1123.9583" y1="2559.0698" y2="2559.0698"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="293.75" x="1123.9583" y="2569.0511">resource namespace</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="1417.7083" x2="1509.375" y1="2559.0698" y2="2559.0698"/></g><!--MD5=[9dd4eaa2771a2ff8dbee15cc1e732cab]
class Patient--><g id="elem_Patient"><rect codeLine="87" fill="#ADFF2F" height="178.3285" id="Patient" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="668.75" x="1584.375" y="2457.2673"/><ellipse cx="1807.8125" cy="2499.5809" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M1812.9649,2512.3789 Q1811.7544,2513.0015 1810.4228,2513.3128 Q1809.0912,2513.6241 1807.6213,2513.6241 Q1802.3987,2513.6241 1799.649,2510.1827 Q1796.8994,2506.7413 1796.8994,2500.2391 Q1796.8994,2493.7195 1799.649,2490.2781 Q1802.3987,2486.8368 1807.6213,2486.8368 Q1809.0912,2486.8368 1810.4401,2487.148 Q1811.7889,2487.4593 1812.9649,2488.0819 L1812.9649,2493.7541 Q1811.6506,2492.5435 1810.4141,2491.9815 Q1809.1777,2491.4195 1807.8634,2491.4195 Q1805.0618,2491.4195 1803.6352,2493.6417 Q1802.2085,2495.8639 1802.2085,2500.2391 Q1802.2085,2504.597 1803.6352,2506.8192 Q1805.0618,2509.0413 1807.8634,2509.0413 Q1809.1777,2509.0413 1810.4141,2508.4793 Q1811.6506,2507.9173 1812.9649,2506.7067 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacing" textLength="212.5" x="1846.3542" y="2491.8538">«logical resource»</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="97.9167" x="1903.6458" y="2525.3255">Patient</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1586.4583" x2="2251.0417" y1="2541.8945" y2="2541.8945"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="643.75" x="1596.875" y="2621.11">https://standards.digital.health.nz/ns/nhi-id</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="1586.4583" x2="1771.875" y1="2575.7365" y2="2575.7365"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="293.75" x="1771.875" y="2585.7178">resource namespace</text><line style="stroke:#181818;stroke-width:2.0833333333333335;" x1="2065.625" x2="2251.0417" y1="2575.7365" y2="2575.7365"/></g><!--MD5=[199ad28439c8147e654fd2bd806a5404]
class SNOMED--><g id="elem_SNOMED"><rect codeLine="92" fill="#9370D8" height="255.363" id="SNOMED" rx="5.2083" ry="5.2083" style="stroke:#181818;stroke-width:1.0416666666666667;" width="514.5833" x="1565.625" y="1343.7256"/><ellipse cx="1699.4792" cy="1386.0392" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke:#181818;stroke-width:2.0833333333333335;"/><path d="M1704.6316,1398.8373 Q1703.421,1399.4598 1702.0894,1399.7711 Q1700.7579,1400.0824 1699.2879,1400.0824 Q1694.0653,1400.0824 1691.3157,1396.641 Q1688.5661,1393.1997 1688.5661,1386.6974 Q1688.5661,1380.1778 1691.3157,1376.7365 Q1694.0653,1373.2951 1699.2879,1373.2951 Q1700.7579,1373.2951 1702.1067,1373.6064 Q1703.4556,1373.9176 1704.6316,1374.5402 L1704.6316,1380.2124 Q1703.3173,1379.0019 1702.0808,1378.4398 Q1700.8443,1377.8778 1699.53,1377.8778 Q1696.7285,1377.8778 1695.3018,1380.1 Q1693.8751,1382.3222 1693.8751,1386.6974 Q1693.8751,1391.0553 1695.3018,1393.2775 Q1696.7285,1395.4997 1699.53,1395.4997 Q1700.8443,1395.4997 1702.0808,1394.9376 Q1703.3173,1394.3756 1704.6316,1393.1651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacing" textLength="237.5" x="1738.0208" y="1378.3122">«codeable concept»</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="122.9167" x="1795.3125" y="1411.7839">SNOMED</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1567.7083" x2="2078.125" y1="1428.3529" y2="1428.3529"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="489.5833" x="1578.125" y="1464.8844">system = http://snowmed.info/sct</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="258.3333" x="1578.125" y="1499.235">code = 61746007</text><line style="stroke:#181818;stroke-width:1.0416666666666667;" x1="1567.7083" x2="2078.125" y1="1513.7207" y2="1513.7207"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="422.9167" x="1578.125" y="1550.2523">display = "Taking patient vital</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="262.5" x="1578.125" y="1584.6029">signs (procedure)"</text></g><g id="elem_obsdia"><polygon fill="#F1F1F1" points="1979.1667,1956.2256,2004.1667,1981.2256,1979.1667,2006.2256,1954.1667,1981.2256,1979.1667,1956.2256" style="stroke:#181818;stroke-width:1.0416666666666667;"/></g><g id="elem_GMN34"><path d="M1640.625,95.8089 L1640.625,329.5044 A5.2083,5.2083 0 0 0 1645.8333,334.7127 L2037.5,334.7127 L2045.8333,568.5589 L2054.1667,334.7127 L2445.8333,334.7127 A5.2083,5.2083 0 0 0 2451.0417,329.5044 L2451.0417,111.4339 L2430.2083,90.6006 L1645.8333,90.6006 A5.2083,5.2083 0 0 0 1640.625,95.8089 " fill="#FFFF00" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M2430.2083,90.6006 L2430.2083,108.8298 A2.6042,2.6042 0 0 0 2432.8125,111.4339 L2451.0417,111.4339 L2430.2083,90.6006 " fill="#FFFF00" style="stroke:#181818;stroke-width:1.0416666666666667;"/><ellipse cx="1664.5833" cy="117.2892" fill="#000000" rx="5.2083" ry="5.2083" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="722.9167" x="1676.0417" y="127.2013">Mobile app creates Observation Resource from scratch,</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="733.3333" x="1686.4583" y="159.0983">populating observation data in component.value[] array.</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="675" x="1694.7917" y="190.9953">(Data codes and value types to be decided by HNZ).</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="8.3333" x="1653.125" y="222.8923"> </text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="116.6667" x="1653.125" y="254.7892">Linkages</text><ellipse cx="1664.5833" cy="276.7741" fill="#000000" rx="5.2083" ry="5.2083" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="631.25" x="1676.0417" y="286.6862">performer --&gt; Patient (copied from S/R subject)</text><ellipse cx="1664.5833" cy="308.6711" fill="#000000" rx="5.2083" ry="5.2083" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="381.25" x="1676.0417" y="318.5832">basedOn --&gt; ServiceRequest</text></g><!--MD5=[2b3399f1c04fc438abf357dcea2385ef]
link PlanDefinition to CarePlan--><g id="link_PlanDefinition_CarePlan"><path codeLine="100" d="M626.6458,2289.9756 C636.6667,2269.7464 645.3542,2249.0381 652.0833,2228.1006 C661.5,2198.7881 657.4583,2169.6839 645.75,2142.3089 " fill="none" id="PlanDefinition-to-CarePlan" style="stroke:#181818;stroke-width:4.166666666666667;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="641.625,2133.5589,642.1121,2154.0716,646.0804,2142.9747,657.1773,2146.9429,641.625,2133.5589" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="266.6667" x="660.4167" y="2220.9513">$apply() instantiates</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="16.6667" x="621.7591" y="2268.3211">1</text></g><!--MD5=[7afc4774693a4d70fc1bb68113ce6497]
link CarePlan to PlanDefinition--><g id="link_CarePlan_PlanDefinition"><path codeLine="107" d="M374.5208,2131.0798 C363.6667,2150.9339 354.3542,2171.7048 347.9167,2192.6839 C339.6458,2219.6631 336.6875,2248.0589 337.4167,2276.5381 " fill="none" id="CarePlan-to-PlanDefinition" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="337.8542,2286.4756,345.377,2267.386,337.4081,2276.0685,328.7256,2268.0996,337.8542,2286.4756" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="283.3333" x="350" y="2220.9513">instantiatesCanonical</text></g><!--MD5=[f294d1c39ea1b54564ec7d225193d7d3]
reverse link CarePlan to CarePlanObsActivity--><g id="link_CarePlan_CarePlanObsActivity"><path codeLine="102" d="M871.3958,1981.2256 C885.625,1981.2256 899.8542,1981.2256 914.0833,1981.2256 " fill="none" id="CarePlan-backto-CarePlanObsActivity" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="844.3958,1981.2256,856.8958,1989.5589,869.3958,1981.2256,856.8958,1972.8923,844.3958,1981.2256" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="45.8333" x="852.3358" y="1975.2063">0..*</text></g><!--MD5=[59734c2bb681722ed4919d0fdcd7cbf6]
link Goal to CarePlan--><g id="link_Goal_CarePlan"><path codeLine="103" d="M489.5833,1531.8923 C489.5833,1597.3714 489.5833,1707.1423 489.5833,1801.5381 " fill="none" id="Goal-to-CarePlan" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="489.5833,1828.4131,497.9167,1815.9131,489.5833,1803.4131,481.25,1815.9131,489.5833,1828.4131" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="56.25" x="491.6667" y="1762.618">goal</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="45.8333" x="439.2383" y="1573.1146">1..*</text></g><!--MD5=[1e7fa74c204f74e4e0153eaed43eecef]
link CarePlan to Patient--><g id="link_CarePlan_Patient"><path codeLine="104" d="M841.4167,2118.2048 C854.1042,2122.3506 866.7292,2126.3714 879.1667,2130.1839 C1171.3542,2219.9131 1268.6042,2166.4964 1547.9167,2290.6006 C1639.6875,2331.3714 1732.8958,2395.3714 1802.8958,2448.9548 " fill="none" id="CarePlan-to-Patient" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1810.5625,2454.8506,1800.788,2436.8099,1802.3082,2448.4966,1790.6216,2450.0168,1810.5625,2454.8506" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="95.8333" x="857.0319" y="2150.3654">subject</text></g><!--MD5=[c5306e5bf88dae6d77c9fff8f430033d]
link CarePlan to HPIPerson--><g id="link_CarePlan_HPIPerson"><path codeLine="106" d="M841.4375,2127.2881 C877.875,2147.2881 913.3958,2169.1423 945.8333,2192.6839 C1037.6458,2259.3089 1123.875,2354.8714 1184.3958,2429.6214 " fill="none" id="CarePlan-to-HPIPerson" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1190.4167,2437.1214,1185.1046,2417.3025,1183.8659,2429.0223,1172.1461,2427.7837,1190.4167,2437.1214" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="85.4167" x="856.8501" y="2127.3329">author</text></g><!--MD5=[706b5a8ef8505dce54567f05f6590342]
link ActivityDefinition to ServiceRequest--><g id="link_ActivityDefinition_ServiceRequest"><path codeLine="109" d="M1154.4792,1043.1423 C1151.9792,1114.9756 1149.3333,1190.6423 1146.9792,1257.9756 " fill="none" id="ActivityDefinition-to-ServiceRequest" style="stroke:#181818;stroke-width:4.166666666666667;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1146.625,1268.1839,1155.6505,1249.7571,1147.0127,1257.7745,1138.9954,1249.1367,1146.625,1268.1839" style="stroke:#181818;stroke-width:4.166666666666667;"/><path d="M1162.5,1120.8089 L1162.5,1193.7256 A5.2083,5.2083 0 0 0 1167.7083,1198.9339 L1592.7083,1198.9339 A5.2083,5.2083 0 0 0 1597.9167,1193.7256 L1597.9167,1136.4339 L1577.0833,1115.6006 L1167.7083,1115.6006 A5.2083,5.2083 0 0 0 1162.5,1120.8089 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M1577.0833,1115.6006 L1577.0833,1133.8298 A2.6042,2.6042 0 0 0 1579.6875,1136.4339 L1597.9167,1136.4339 L1577.0833,1115.6006 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="368.75" x="1175" y="1152.2013">S/Rs are instantiated (made)</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="391.6667" x="1175" y="1184.0983">by applying ActivityDefinition</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="16.6667" x="1136.8618" y="1085.1668">1</text></g><!--MD5=[cf0dadee66f62f06b44e833122700621]
reverse link ActivityDefinition to ServiceRequest--><g id="link_ActivityDefinition_ServiceRequest"><path codeLine="116" d="M867.3333,1054.6423 C858.375,1071.1214 850.4167,1087.9964 843.75,1105.1839 C820.8958,1164.0798 838.9792,1220.7256 875.3333,1271.0798 " fill="none" id="ActivityDefinition-backto-ServiceRequest" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="872.1458,1046.0589,855.7075,1058.3385,867.0517,1055.145,870.2452,1066.4892,872.1458,1046.0589" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="283.3333" x="845.8333" y="1167.8263">instantiatesCanonical</text></g><!--MD5=[7e367dd458adff3382950a6794c1f8c8]
link ActivityDefinition to SNOMED--><g id="link_ActivityDefinition_SNOMED"><path codeLine="112" d="M1566.6667,1043.1839 C1587.2292,1063.2881 1606.8542,1083.9964 1625,1105.1839 C1682.8125,1172.6839 1730.875,1259.8089 1765.1667,1331.9756 " fill="none" id="ActivityDefinition-to-SNOMED" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1769.2083,1340.5589,1768.7492,1320.0456,1764.7658,1331.1371,1753.6743,1327.1537,1769.2083,1340.5589" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="62.5" x="1523.2878" y="1085.2106">code</text></g><!--MD5=[fe3a9362e9f687c992a730e9c9b294ef]
link CarePlanObsActivity to ServiceRequest--><g id="link_CarePlanObsActivity_ServiceRequest"><path codeLine="114" d="M1139.5833,1891.1839 C1139.5833,1834.4548 1139.5833,1758.1214 1139.5833,1686.2464 " fill="none" id="CarePlanObsActivity-to-ServiceRequest" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1139.5833,1676.0381,1131.25,1694.7881,1139.5833,1686.4548,1147.9167,1694.7881,1139.5833,1676.0381" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="120.8333" x="1009.1211" y="1869.3957">reference</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="16.6667" x="1122.2786" y="1715.6357">1</text></g><!--MD5=[ced57a236e8aeb999753951860aaa7d1]
link ServiceRequest to SNOMED--><g id="link_ServiceRequest_SNOMED"><path codeLine="117" d="M1492.6042,1471.8506 C1512.1667,1471.8506 1531.7292,1471.8506 1551.3125,1471.8506 " fill="none" id="ServiceRequest-to-SNOMED" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1561.7083,1471.8506,1542.9583,1463.5173,1551.2917,1471.8506,1542.9583,1480.1839,1561.7083,1471.8506" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="62.5" x="1486.2759" y="1464.885">code</text></g><!--MD5=[9ed52b899c66f867fd22abd526b7adff]
link ServiceRequest to CarePlan--><g id="link_ServiceRequest_CarePlan"><path codeLine="119" d="M883.625,1672.8714 C819.1458,1722.9964 750.8542,1776.0589 689.5833,1823.7048 " fill="none" id="ServiceRequest-to-CarePlan" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="681.5,1829.9756,701.4128,1825.0272,689.7176,1823.5742,691.1706,1811.879,681.5,1829.9756" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="8.3333" x="800.1413" y="1715.4036"> </text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="114.5833" x="747.0163" y="1747.3006">basedOn</text></g><!--MD5=[f7b7e425a6e75ec6e1dbf3206169de1e]
link ServiceRequest to Patient--><g id="link_ServiceRequest_Patient"><path codeLine="121" d="M1467.1667,1672.7048 C1527.1875,1719.6006 1585.2917,1773.3298 1631.25,1832.2673 C1778.75,2021.4339 1860.875,2296.3923 1896.7083,2443.2881 " fill="none" id="ServiceRequest-to-Patient" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1899.0833,2453.1631,1902.7884,2432.9819,1896.6411,2443.0368,1886.5863,2436.8895,1899.0833,2453.1631" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="95.8333" x="1392.7453" y="1715.4563">subject</text></g><!--MD5=[8adf2b84da8fb679a6755f8a69763b04]
link ServiceRequest to HPIPerson--><g id="link_ServiceRequest_HPIPerson"><path codeLine="123" d="M1318.7292,1672.7048 C1352.9167,1721.6423 1383.75,1776.2048 1402.0833,1832.2673 C1468.8333,2036.3298 1388.2083,2285.0589 1327.0625,2428.1423 " fill="none" id="ServiceRequest-to-HPIPerson" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1323.2083,2437.0589,1338.3061,2423.1642,1327.3476,2427.5,1323.0118,2416.5414,1323.2083,2437.0589" style="stroke:#181818;stroke-width:4.166666666666667;"/><path d="M1437.5,1960.3923 L1437.5,2002.0589 A5.2083,5.2083 0 0 0 1442.7083,2007.2673 L1598.9583,2007.2673 A5.2083,5.2083 0 0 0 1604.1667,2002.0589 L1604.1667,1976.0173 L1583.3333,1955.1839 L1442.7083,1955.1839 A5.2083,5.2083 0 0 0 1437.5,1960.3923 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M1583.3333,1955.1839 L1583.3333,1973.4131 A2.6042,2.6042 0 0 0 1585.9375,1976.0173 L1604.1667,1976.0173 L1583.3333,1955.1839 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="122.9167" x="1450" y="1991.7847">requester</text></g><!--MD5=[cafe13a529bf2a2edb56f011a172c119]
link Observation to obsdia--><g id="link_Observation_obsdia"><path codeLine="128" d="M2090.2292,936.4131 C2128.6458,1123.0589 2170.3125,1420.6423 2116.6667,1671.8506 C2092.9375,1782.9756 2025.9583,1902.5381 1995.0833,1953.6423 " fill="none" id="Observation-to-obsdia" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1990.0625,1961.8714,2006.9298,1950.1881,1995.4786,1952.9735,1992.6932,1941.5223,1990.0625,1961.8714" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="129.1667" x="2143.75" y="1482.4097">performer</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="16.6667" x="2076.3235" y="977.9403">1</text></g><!--MD5=[05b04b71a62d775bb643f13c6db00475]
link obsdia to Patient--><g id="link_obsdia_Patient"><path codeLine="130" d="M1976.7917,2005.3089 C1969.0625,2077.2048 1944.2083,2308.2256 1929.6458,2443.5173 " fill="none" id="obsdia-to-Patient" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1928.6042,2453.1631,1938.8732,2435.3992,1929.7055,2442.8048,1922.2999,2433.6371,1928.6042,2453.1631" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="106.25" x="2041.0477" y="2049.3367">Patient-</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="179.1667" x="2004.5893" y="2081.2337">collected Obs</text></g><!--MD5=[d81c39770da2771945a80128b23701e3]
link obsdia to HPIPerson--><g id="link_obsdia_HPIPerson"><path codeLine="131" d="M1964.5417,1992.7673 C1908.75,2029.1006 1704.375,2163.8923 1547.9167,2290.6006 C1493.7083,2334.4964 1436.4583,2386.0589 1388.1667,2431.2048 " fill="none" id="obsdia-to-HPIPerson" style="stroke:#181818;stroke-width:4.166666666666667;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1380.9375,2437.9964,1400.3167,2431.2545,1388.5378,2430.873,1388.9193,2419.0941,1380.9375,2437.9964" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="93.75" x="1801.3799" y="2030.0825">Nurse-</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="179.1667" x="1758.6716" y="2061.9795">collected Obs</text></g><!--MD5=[36be3a402d2721f5d0a1adb92752131c]
link Observation to ServiceRequest--><g id="link_Observation_ServiceRequest"><path codeLine="132" d="M1902.2083,936.1423 C1826,1025.3506 1727.1458,1130.3089 1625,1209.3506 C1600.0208,1228.6839 1555.625,1255.3714 1503.4792,1284.3298 " fill="none" id="Observation-to-ServiceRequest" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1495,1289.0173,1515.4444,1287.2754,1504.1254,1283.9938,1507.4069,1272.6748,1495,1289.0173" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="114.5833" x="1771.6145" y="978.2742">basedOn</text></g><!--MD5=[252e59de22f532ccd8dbe1d6f96e77e5]
link Observation to SNOMED--><g id="link_Observation_SNOMED"><path codeLine="133" d="M1989.2917,935.6423 C1951.1042,1058.2464 1901.4375,1217.6839 1866.3542,1330.3298 " fill="none" id="Observation-to-SNOMED" style="stroke:#181818;stroke-width:4.166666666666667;"/><polygon fill="#181818" points="1863.2917,1340.1423,1876.8225,1324.7175,1866.3885,1330.1966,1860.9095,1319.7626,1863.2917,1340.1423" style="stroke:#181818;stroke-width:4.166666666666667;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacing" textLength="62.5" x="1935.4167" y="1167.8263">code</text></g><rect fill="#DDDDDD" height="685.9945" id="_legend" rx="5.2083" ry="5.2083" style="stroke:#000000;stroke-width:2.0833333333333335;" width="1412.5" x="1007.2917" y="2832.3608"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="87.5" x="1019.7917" y="2873.0591">Notes</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="27.0833" x="1019.7917" y="2907.4097">1.</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="639.5833" x="1055.2083" y="2907.4097">This model uses UML Class diagram notation</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="1019.7917" y="2941.7603"> </text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="27.0833" x="1019.7917" y="2976.1108">2.</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="1306.25" x="1055.2083" y="2976.1108">FHIR Resource types and resource References are modelled as UML classes and associations</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="1019.7917" y="3010.4614"> </text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="27.0833" x="1019.7917" y="3044.812">3.</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="306.25" x="1055.2083" y="3044.812">CarePlanObsActivity</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="1037.5" x="1369.7917" y="3044.812">is a reference contained in a CarePlan activity.  The client inserts this into</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="718.75" x="1019.7917" y="3079.1626">the CarePlan just after creating the ServiceRequest</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="1019.7917" y="3113.5132"> </text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="27.0833" x="1019.7917" y="3147.8638">4.</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="352.0833" x="1055.2083" y="3147.8638">Not shown for simplicity:</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="922.9167" x="1053.125" y="3182.2144">- Linkage between CarePlan, Condition and Encounter resources</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="733.3333" x="1053.125" y="3216.5649">- All Consents, consent linkage and Questionnaires</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="1019.7917" y="3250.9155"> </text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="1019.7917" y="3289.4328"> </text><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="247.9167" x="1028.125" y="3289.4328">Class colour key</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="1276.0417" y="3289.4328"> </text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="1928.125" y="3289.4328"> </text><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacing" textLength="377.0833" x="1936.4583" y="3289.4328">FHIR resource stereotype</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="2313.5417" y="3289.4328"> </text><rect fill="#FFA07A" height="34.3506" style="stroke:none;stroke-width:2.0833333333333335;" width="908.3333" x="1019.7917" y="3295.5851"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="610.4167" x="1028.125" y="3323.7834">FHIR resource supported by this repository</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="200" x="1936.4583" y="3323.7834">local resource</text><rect fill="#FF4500" height="34.3506" style="stroke:none;stroke-width:2.0833333333333335;" width="908.3333" x="1019.7917" y="3329.9357"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="400" x="1028.125" y="3358.134">Definition resource instance</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="162.5" x="1936.4583" y="3358.134">definitional</text><rect fill="#ADD8E6" height="34.3506" style="stroke:none;stroke-width:2.0833333333333335;" width="908.3333" x="1019.7917" y="3364.2863"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="891.6667" x="1028.125" y="3392.4845">Resource contained in another resource (does not standalone)</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="141.6667" x="1936.4583" y="3392.4845">contained</text><rect fill="#9370D8" height="34.3506" style="stroke:none;stroke-width:2.0833333333333335;" width="908.3333" x="1019.7917" y="3398.6369"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="518.75" x="1028.125" y="3426.8351">Reference to concept in code system</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="250" x="1936.4583" y="3426.8351">codeable concept</text><rect fill="#ADFF2F" height="34.3506" style="stroke:none;stroke-width:2.0833333333333335;" width="908.3333" x="1019.7917" y="3432.9875"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="764.5833" x="1028.125" y="3461.1857">Logical references to a resource in another repository</text><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="237.5" x="1936.4583" y="3461.1857">logical reference</text><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1019.7917" x2="2321.875" y1="3261.2345" y2="3261.2345"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1019.7917" x2="2321.875" y1="3295.5851" y2="3295.5851"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1019.7917" x2="2321.875" y1="3329.9357" y2="3329.9357"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1019.7917" x2="2321.875" y1="3364.2863" y2="3364.2863"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1019.7917" x2="2321.875" y1="3398.6369" y2="3398.6369"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1019.7917" x2="2321.875" y1="3432.9875" y2="3432.9875"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1019.7917" x2="2321.875" y1="3467.3381" y2="3467.3381"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1019.7917" x2="1019.7917" y1="3261.2345" y2="3467.3381"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="1928.125" x2="1928.125" y1="3261.2345" y2="3467.3381"/><line style="stroke:#000000;stroke-width:2.0833333333333335;" x1="2321.875" x2="2321.875" y1="3261.2345" y2="3467.3381"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" lengthAdjust="spacing" textLength="8.3333" x="1019.7917" y="3499.703"> </text><rect fill="none" height="24.5361" rx="5.2083" ry="5.2083" style="stroke:none;stroke-width:2.0833333333333335;" width="491.6667" x="972.3958" y="3537.1053"/><text fill="#888888" font-family="sans-serif" font-size="20.8333" lengthAdjust="spacing" textLength="491.6667" x="972.3958" y="3557.2469">Middleware NZ design for Health NZ, 2022.11.23</text><!--MD5=[4b0ce7039aba3db02d112a74dcb3ff37]
@startuml observationResourceModel

title "FHIR resource model - Patient Observations for Care in the Community"
footer "Middleware NZ design for Health NZ, %date('yyyy.MM.dd')"

skinparam BoxPadding 6
skinparam ParticipantPadding 1
skinparam roundcorner 5

skinparam sequenceArrowThickness 2

skinparam dpi 200

class CarePlan #LightSalmon {
    + ~~title~~ = //COVID-19 Response - Patient X//
    + status = //active//
    + period = plan start-end dates
    + Other elements as copied from PlanDefinition
    - - links to - -
    + author -> HPI ref.
}

class CarePlanObsActivity <<contained>> #LightBlue {
    - - links to - -
    **reference** - -> ServiceRequest
}

class "ServiceRequest (patient vital signs)" as ServiceRequest  #LightSalmon {
    + ~~status~~ = //active//
    + ~~code~~ = SNOMED ref. (from ActivityDefinition)
    + Other elements copied from ActivityDefinition
    ...
    - - links to - -
    + instantiatesCanonical - -> ActivityDefinition
    + basedOn -> CarePlan ref.
    + performer -> Patient (or Nurse) ref.

}

class Observation #LightSalmon {
    + ~~status~~ = final
    + ~~code~~ = SNOMED code (from ServiceRequest)
    + component.value[]**
        Array of 
        {sign code, observation value} pairs
    - - links to - -
    + basedOn -> ServiceRequest
    + subject -> Patient ref.
}

class ActivityDefinition <<canonical instance>> #OrangeRed {
    - - templated attributes - -
    |_ identifier = ""//COVID19ObservationVitalSignsRequestTemplate//""
    |_ kind = ServiceRequest
    |_ status = active
    |_ code = SNOMED code (TBC by HNZ).
    |_ Further HNZ default elements for Activity type...    
    |_..
    - - instance operations - -
    ""ServiceRequest **$apply**("" 
        ""   subject:""identifies patient,
        ""   practitioner:""identifies requesting practitioner,
        ""   CarePlan:id"" identifies careplan which will contain
        "")""
}

class PlanDefinition <<canonical instance>> #OrangeRed {
    - - templated attributes - -
    |_ identifier = ""//CareplanTemplate-CitC-COVID19-CCCM//""
    |_ status = active
    |_ action[] = [HNZ default care plan activities...]
    |_ Further HNZ defaults for CarePlan type...
    |_ ..
    - - instance operations - -
    ""CarePlan **$apply**(""
        ""   subject = "" <patient identifier>,
        ""   practitioner:"" <requesting practitioner identifier>,
        ""   encounter:id""  Encounter which led to this care plan 
}

class Goal <<contained>> #LightBlue

class HPIPerson <<logical resource>> #GreenYellow {
    - - resource namespace - -
    https://standards.digital.health.\nnz/ns/hpi-person-id
}

class Patient <<logical resource>> #GreenYellow {
    - - resource namespace - -
    https://standards.digital.health.nz/ns/nhi-id
}

class SNOMED <<codeable concept>> #MediumPurple {
    system = http://snowmed.info/sct
    code = 61746007
    display = "Taking patient vital \nsigns (procedure)"
}

' associations

PlanDefinition "1"..> CarePlan: $apply() instantiates

CarePlan *-right- "0..*" CarePlanObsActivity
CarePlan *-up- "1..*" Goal: goal
CarePlan "subject" - -> Patient

CarePlan "author" - -> HPIPerson
CarePlan -down-> PlanDefinition: instantiatesCanonical

ActivityDefinition "1".down.> ServiceRequest
note on link : S/Rs are instantiated (made) \nby applying ActivityDefinition

ActivityDefinition "code" - -> SNOMED

CarePlanObsActivity "reference" - -> "1" ServiceRequest

ServiceRequest -up-> ActivityDefinition: instantiatesCanonical
ServiceRequest "code" -right-> SNOMED

ServiceRequest "\nbasedOn" - -> CarePlan 

ServiceRequest "subject" - -> Patient

ServiceRequest - -> HPIPerson
note on link: requester

diamond obsdia

Observation "1" - -> obsdia : "performer"

obsdia "Patient-\ncollected Obs" - -> Patient
obsdia "Nurse-\ncollected Obs" ..> HPIPerson
Observation "basedOn" - -> ServiceRequest
Observation - -> SNOMED: code

note top of Observation #Yellow {
    * Mobile app creates Observation Resource from scratch, 
        populating observation data in component.value[] array.
         (Data codes and value types to be decided by HNZ).
    
    Linkages
    * performer - -> Patient (copied from S/R subject)
    * basedOn - -> ServiceRequest
}

legend right
    **Notes**
    # This model uses UML Class diagram notation
    
    # FHIR Resource types and resource References are modelled as UML classes and associations
    
    # **CarePlanObsActivity** is a reference contained in a CarePlan activity.  The client inserts this into 
    the CarePlan just after creating the ServiceRequest

    # Not shown for simplicity:
        - Linkage between CarePlan, Condition and Encounter resources
        - All Consents, consent linkage and Questionnaires

    | **Class colour key** | **FHIR resource stereotype** |
    |<#LightSalmon> FHIR resource supported by this repository | local resource |
    |<#OrangeRed> Definition resource instance | definitional |
    |<#LightBlue> Resource contained in another resource (does not standalone) | contained|
    |<#mediumPurple> Reference to concept in code system | codeable concept |
    |<#GreenYellow> Logical references to a resource in another repository | logical reference |

endlegend

@enduml

@startuml observationResourceModel

title "FHIR resource model - Patient Observations for Care in the Community"
footer "Middleware NZ design for Health NZ, 2022.11.23"

skinparam BoxPadding 6
skinparam ParticipantPadding 1
skinparam roundcorner 5

skinparam sequenceArrowThickness 2

skinparam dpi 200

class CarePlan #LightSalmon {
    + ~~title~~ = //COVID-19 Response - Patient X//
    + status = //active//
    + period = plan start-end dates
    + Other elements as copied from PlanDefinition
    - - links to - -
    + author -> HPI ref.
}

class CarePlanObsActivity <<contained>> #LightBlue {
    - - links to - -
    **reference** - -> ServiceRequest
}

class "ServiceRequest (patient vital signs)" as ServiceRequest  #LightSalmon {
    + ~~status~~ = //active//
    + ~~code~~ = SNOMED ref. (from ActivityDefinition)
    + Other elements copied from ActivityDefinition
    ...
    - - links to - -
    + instantiatesCanonical - -> ActivityDefinition
    + basedOn -> CarePlan ref.
    + performer -> Patient (or Nurse) ref.

}

class Observation #LightSalmon {
    + ~~status~~ = final
    + ~~code~~ = SNOMED code (from ServiceRequest)
    + component.value[]**
        Array of 
        {sign code, observation value} pairs
    - - links to - -
    + basedOn -> ServiceRequest
    + subject -> Patient ref.
}

class ActivityDefinition <<canonical instance>> #OrangeRed {
    - - templated attributes - -
    |_ identifier = ""//COVID19ObservationVitalSignsRequestTemplate//""
    |_ kind = ServiceRequest
    |_ status = active
    |_ code = SNOMED code (TBC by HNZ).
    |_ Further HNZ default elements for Activity type...    
    |_..
    - - instance operations - -
    ""ServiceRequest **$apply**("" 
        ""   subject:""identifies patient,
        ""   practitioner:""identifies requesting practitioner,
        ""   CarePlan:id"" identifies careplan which will contain
        "")""
}

class PlanDefinition <<canonical instance>> #OrangeRed {
    - - templated attributes - -
    |_ identifier = ""//CareplanTemplate-CitC-COVID19-CCCM//""
    |_ status = active
    |_ action[] = [HNZ default care plan activities...]
    |_ Further HNZ defaults for CarePlan type...
    |_ ..
    - - instance operations - -
    ""CarePlan **$apply**(""
        ""   subject = "" <patient identifier>,
        ""   practitioner:"" <requesting practitioner identifier>,
        ""   encounter:id""  Encounter which led to this care plan 
}

class Goal <<contained>> #LightBlue

class HPIPerson <<logical resource>> #GreenYellow {
    - - resource namespace - -
    https://standards.digital.health.\nnz/ns/hpi-person-id
}

class Patient <<logical resource>> #GreenYellow {
    - - resource namespace - -
    https://standards.digital.health.nz/ns/nhi-id
}

class SNOMED <<codeable concept>> #MediumPurple {
    system = http://snowmed.info/sct
    code = 61746007
    display = "Taking patient vital \nsigns (procedure)"
}


PlanDefinition "1"..> CarePlan: $apply() instantiates

CarePlan *-right- "0..*" CarePlanObsActivity
CarePlan *-up- "1..*" Goal: goal
CarePlan "subject" - -> Patient

CarePlan "author" - -> HPIPerson
CarePlan -down-> PlanDefinition: instantiatesCanonical

ActivityDefinition "1".down.> ServiceRequest
note on link : S/Rs are instantiated (made) \nby applying ActivityDefinition

ActivityDefinition "code" - -> SNOMED

CarePlanObsActivity "reference" - -> "1" ServiceRequest

ServiceRequest -up-> ActivityDefinition: instantiatesCanonical
ServiceRequest "code" -right-> SNOMED

ServiceRequest "\nbasedOn" - -> CarePlan 

ServiceRequest "subject" - -> Patient

ServiceRequest - -> HPIPerson
note on link: requester

diamond obsdia

Observation "1" - -> obsdia : "performer"

obsdia "Patient-\ncollected Obs" - -> Patient
obsdia "Nurse-\ncollected Obs" ..> HPIPerson
Observation "basedOn" - -> ServiceRequest
Observation - -> SNOMED: code

note top of Observation #Yellow {
    * Mobile app creates Observation Resource from scratch, 
        populating observation data in component.value[] array.
         (Data codes and value types to be decided by HNZ).
    
    Linkages
    * performer - -> Patient (copied from S/R subject)
    * basedOn - -> ServiceRequest
}

legend right
    **Notes**
    # This model uses UML Class diagram notation
    
    # FHIR Resource types and resource References are modelled as UML classes and associations
    
    # **CarePlanObsActivity** is a reference contained in a CarePlan activity.  The client inserts this into 
    the CarePlan just after creating the ServiceRequest

    # Not shown for simplicity:
        - Linkage between CarePlan, Condition and Encounter resources
        - All Consents, consent linkage and Questionnaires

    | **Class colour key** | **FHIR resource stereotype** |
    |<#LightSalmon> FHIR resource supported by this repository | local resource |
    |<#OrangeRed> Definition resource instance | definitional |
    |<#LightBlue> Resource contained in another resource (does not standalone) | contained|
    |<#mediumPurple> Reference to concept in code system | codeable concept |
    |<#GreenYellow> Logical references to a resource in another repository | logical reference |

endlegend

@enduml

PlantUML version 1.2022.7(Tue Aug 23 05:01:30 NZST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: NZ
--></g></svg>